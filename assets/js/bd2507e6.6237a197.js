"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8237],{3905:(e,n,r)=>{r.r(n),r.d(n,{MDXContext:()=>u,MDXProvider:()=>m,mdx:()=>g,useMDXComponents:()=>p,withMDXComponents:()=>s});var t=r(67294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},a.apply(this,arguments)}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function l(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u=t.createContext({}),s=function(e){return function(n){var r=p(n.components);return t.createElement(e,a({},n,{components:r}))}},p=function(e){var n=t.useContext(u),r=n;return e&&(r="function"==typeof e?e(n):c(c({},n),e)),r},m=function(e){var n=p(e.components);return t.createElement(u.Provider,{value:n},e.children)},d="mdxType",f={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},h=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),s=p(r),m=o,d=s["".concat(i,".").concat(m)]||s[m]||f[m]||a;return r?t.createElement(d,c(c({ref:n},u),{},{components:r})):t.createElement(d,c({ref:n},u))}));function g(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=h;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c[d]="string"==typeof e?e:o,i[1]=c;for(var u=2;u<a;u++)i[u]=r[u];return t.createElement.apply(null,i)}return t.createElement.apply(null,r)}h.displayName="MDXCreateElement"},7070:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var t=r(87462),o=(r(67294),r(3905));const a={},i="Performance Tuning",c={unversionedId:"legacy/about/performance",id:"legacy/about/performance",title:"Performance Tuning",description:"Performance Tuning Your Builds",source:"@site/../docs/legacy/about/performance.md",sourceDirName:"legacy/about",slug:"/legacy/about/performance",permalink:"/docs/legacy/about/performance",draft:!1,tags:[],version:"current",frontMatter:{}},l={},u=[{value:"Performance Tuning Your Builds",id:"performance-tuning-your-builds",level:2},{value:"Super Console",id:"super-console",level:2},{value:"Chrome Tracing",id:"chrome-tracing",level:2}],s={toc:u};function p(e){let{components:n,...r}=e;return(0,o.mdx)("wrapper",(0,t.Z)({},s,r,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"performance-tuning"},"Performance Tuning"),(0,o.mdx)("h2",{id:"performance-tuning-your-builds"},"Performance Tuning Your Builds"),(0,o.mdx)("p",null,"Buck\n",(0,o.mdx)("a",{parentName:"p",href:"https://buck.build/concept/what_makes_buck_so_fast.html"},"does a lot of work")," to\nmake builds as fast as possible, and we also give developers tools to figure out\nwhere the time is being spent inside of their builds."),(0,o.mdx)("h2",{id:"super-console"},"Super Console"),(0,o.mdx)("p",null,"When running Buck in an ",(0,o.mdx)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/ANSI_escape_code"},"Ansi"),'\ncompliant terminal, Buck displays the break down of what each thread is doing,\nupdated every 100ms, in what we affectionately call "SuperConsole." While a\nbuild is running, this gives developers a good idea of what Buck is spending its\ntime doing, and can often help people spot issues in their builds. If you want\nto see what happened after the fact or to have a trace you can send around your\nteam, use Chrome Tracing.'),(0,o.mdx)("h2",{id:"chrome-tracing"},"Chrome Tracing"),(0,o.mdx)("p",null,"The Chrome team has built an awesome framework for viewing performance traces\nright inside of\n",(0,o.mdx)("a",{parentName:"p",href:"http://www.chromium.org/developers/how-tos/trace-event-profiling-tool"},"Chrome"),".\nYou can access this by going to ",(0,o.mdx)("inlineCode",{parentName:"p"},"chrome://tracing")," in your browser. Consult the\ntrace viewer's ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/google/trace-viewer/"},"project page")," for more\ninformation on the trace viewer and the file format. After Buck is done with\neach build, it will produce a Chrome Trace file that can be loaded up in\n",(0,o.mdx)("inlineCode",{parentName:"p"},"chrome://tracing")," in the directory ",(0,o.mdx)("inlineCode",{parentName:"p"},"buck-out/log/traces/"),". Buck will save a\nfile in the format ",(0,o.mdx)("inlineCode",{parentName:"p"},"build.[timestamp].trace"),", and then create a symlink from the\nmost recent trace to ",(0,o.mdx)("inlineCode",{parentName:"p"},"build.trace"),". To load up this trace, visit\n",(0,o.mdx)("inlineCode",{parentName:"p"},"chrome://tracing"),' inside of Chrome, and hit "Load". Load the trace file of\ninterest, and look around to see where time was spent. Each row represents a\ndifferent thread, and all of the steps taken for a given rule are logged\nunderneath that rule. Additionally, we log information about how the rule was\nbuilt and and the rule key for each artifact fetch. Press ',(0,o.mdx)("em",{parentName:"p"},"?")," to get the help\nmenu for the Chrome Trace Viewer."))}p.isMDXComponent=!0}}]);